<!DOCTYPE html>
<html lang="en" ng-app="treasure-hunt">
  <head>
    <meta charset="utf-8">

    <!-- Mobile-first -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    
    <!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <!-- Angular JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>

		<title>Aarde mäng: töölaud</title>

  </head>

  <body style="margin: 20px">

  <div id="game">
  	<h2 class="text-info">Aarde mäng: töölaud</h2>
  </div>

  <div id="dashboard" ng-controller="result-table">
    <table class="table table-hover">
      <tr>
        <th>Team</th>
        <th ng-repeat="m in assignments">{{a.order}}</th>
      </tr>
      <tr ng-repeat="n in teams">
        <td><p class="text-success">first{{n.team}}</p></td>
        <td>toimumisel...</td>
        <td>katsetusi: 3<br>
            alustanud: 19:24<br>
            aeg: 15m 20s</td>
        <td></td>
      </tr>
      <tr>
        <td><p class="text-success">second</p></td>
        <td></td>
        <td></td>
        <td>toimumisel...</td>
      </tr>
      <tr>
        <td><p class="text-danger">third</p></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </table>
  </div>

  <script charset="UTF-8">
    var app=angular.module("treasure-hunt", []);
    var game=1;
    var url="http://localhost:8080/games/" + game;

    app.controller("result-table", function($scope, $http) {
      $http.get(url).success(function(data, status) {
        $scope.teams=data.name;
        $scope.error="";
        console.log(data.name);
      }).error(function(data, status) {
        $scope.error=status + ": request failed";
      });
    });
  </script>

  </body>
</html>
